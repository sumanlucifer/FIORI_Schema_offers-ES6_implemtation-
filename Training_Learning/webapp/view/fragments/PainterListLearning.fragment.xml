<core:FragmentDefinition xmlns:html="http://www.w3.org/1999/xhtml" xmlns:u="sap.ui.unified" xmlns:smartForm="sap.ui.comp.smartform" xmlns:smartTable="sap.ui.comp.smarttable" xmlns:smartField="sap.ui.comp.smartfield" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core">
    <VBox width="100%">
                <smartTable:SmartTable
                    id="idPainterTable"
                    editable="false"
                    beforeRebindTable="fnrebindTable"                    
                    entitySet="PainterLearningSet"
                    tableType="ResponsiveTable"
                    showRowCount="true"
                    useExportToExcel="true"
                    useVariantManagement="false"
                    useTablePersonalisation="true"
                    ignoredFields="IsArchived,IsSelected,Id"
                    demandPopin="true"
                    enableAutoBinding="false"
                    placeToolbarInTable="true" 
                    persistencyKey="PainterListSmartTableKey"
                    requestAtLeastFields="Id,IsQuestionnaireSubmitted,Status,LearningDetails/TrainingType/TrainingType,EarnedPoints"
                    header="{i18n>submittedPainterList}">
            
                    <Table growing="true" growingThreshold="10" growingScrollToLoad="false" noDataText="{i18n>tableNoData}">
                        <columns>
                            <Column hAlign="Begin">
                                <customData>
                                    <core:CustomData key="p13nData" value='\{"columnKey": "Button", "columnIndex": 6 }'/>
                                </customData>
                                <Text text="{i18n>Questionnaire}"/>
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <HBox>
                                        <Text visible="{= !${IsQuestionnaireSubmitted} }" text="{path:'LearningDetails/TrainingType/TrainingType',formatter:'.fmtTrainStatus'}"/>
                                        <Button visible="{path:'IsQuestionnaireSubmitted'}" text="{i18n>ViewQuestion}" press=".onViewLearningQuestionaire"/>
                                    </HBox>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>

                 </smartTable:SmartTable>
    </VBox>
</core:FragmentDefinition>

<core:FragmentDefinition xmlns:html="http://www.w3.org/1999/xhtml" xmlns:u="sap.ui.unified" xmlns:smartForm="sap.ui.comp.smartform" xmlns:smartTable="sap.ui.comp.smarttable" xmlns:smartField="sap.ui.comp.smartfield" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core">
    <VBox width="100%">
                <smartTable:SmartTable
                    id="idPainterTable2"
                    editable="false"
                    beforeRebindTable="fnrebindTable"                    
                    entitySet="PainterTrainingSet"
                    tableType="ResponsiveTable"
                    showRowCount="true"
                    useExportToExcel="false"
                    useVariantManagement="false"
                    useTablePersonalisation="true"
                    ignoredFields="IsArchived,IsSelected,Id"
                    demandPopin="true"
                    enableAutoBinding="false"
                    placeToolbarInTable="true" 
                    persistencyKey="PainterListSmartTableKey"
                    requestAtLeastFields="Id,IsQuestionnaireSubmitted,Status,TrainingDetails/TrainingType/TrainingType,EarnedPoints"
                    header="{i18n>submittedPainterList}">

        <Table growing="true" growingThreshold="10" growingScrollToLoad="false" noDataText="{i18n>tableNoData}">
            <columns>
                 <Column hAlign="Begin" width="10%">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "AttendedAt", "type":"date", "leadingProperty": "AttendedAt", "columnIndex": 6 ,"sortProperty": "AttendedAt","filterProperty": "AttendedAt"}'/>
                    </customData>
                    <Text text="{i18n>colAttendanceDate}"/>
                </Column>
                <Column hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Button", "columnIndex": 7 }'/>
                    </customData>
                    <Text text="{i18n>Questionnaire}"/>
                </Column>
            </columns>
            <items>
                <ColumnListItem>
                    <cells>
                        <Text text="{path:'AttendedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/yyyy'}}"/>
                        <HBox>
                            <Text visible="{= !${IsQuestionnaireSubmitted} }" text="{path:'TrainingDetails/TrainingType/TrainingType',formatter:'.fmtTrainStatus'}"/>
                            <Button tooltip="{i18n>ViewQuestion}" width="100%" visible="{path:'IsQuestionnaireSubmitted'}" text="{i18n>ViewQuestion}" press=".onViewTrainingQuestionaire"/>
                        </HBox>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>

                 </smartTable:SmartTable>
    </VBox>
</core:FragmentDefinition>

<mvc:View controllerName="com.knpl.pragati.Manage_Notifications.controller.Object" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified" xmlns:uxap="sap.uxap" xmlns:l="sap.ui.layout">
	<uxap:ObjectPageLayout id="ObjectPageLayout" showAnchorBar="true" showFooter="true" subSectionLayout="TitleOnLeft"
		binding="{objectView>/oDetails}" busy="{objectView>/busy}" busyIndicatorDelay="0" class="sapUiResponsiveContentPadding">
		<uxap:headerTitle>
			<uxap:ObjectPageHeader objectTitle="{= ${objectView>/sMode} === 'C' ? ${i18n>TtlAddNotification} : ${i18n>TtlEditNotification} }"/>
			<!--<uxap:ObjectPageHeader objectTitle="{i18n>TtlAddNotification}" visible="{= ${objectView>/sMode} === 'C'}"/>-->
			<!-- <uxap:ObjectPageHeader objectTitle="{objectView>/TtlNotification}"/> -->
		</uxap:headerTitle>
		<uxap:sections>
			<uxap:ObjectPageSection title="{i18n>objectViewTitle}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<l:Grid width="100%" defaultSpan="XL6 L6 M6 S12">
							<VBox>
								<Label required="true" text="{i18n>colSubject}"/>
								<Input width="100%" value="{objectView>Subject}" maxLength="50"/>
							</VBox>
							<VBox>
								<Label required="true" text="{i18n>colBody}"/>
								<TextArea width="100%" value="{objectView>Body}" rows="4" maxLength="250" placeholder="{i18n>MessagePlaceHolder}" showExceededText="true"/>
							</VBox>
							<VBox>
								<Label text="{i18n>colIsGroupNotification}"/>
								<Switch state="{objectView>IsGroupNotification}" customTextOn="Yes" customTextOff="No" enabled="{= ${appView>/viewFlag} === 'Y'}">
									<layoutData>
										<FlexItemData growFactor="1"/>
									</layoutData>
								</Switch>
							</VBox>
							<VBox>
								<Label visible="{= ${objectView>IsGroupNotification} === true}" required="true" text="{i18n>colGroup}"/>
								<ComboBox visible="{= ${objectView>IsGroupNotification} === true}" width="100%" selectedKey="{objectView>GroupId}"
									items="{ path: '/NotificationGroupSet' }">
									<core:Item key="{Id}" text="{GroupName}"/>
								</ComboBox>
								<Label visible="{= ${objectView>IsGroupNotification} === false}" required="true" text="{i18n>colReceivers}"/>
								<MultiComboBox visible="{= ${objectView>IsGroupNotification} === false}" width="100%" selectedKeys="{objectView>Receivers}"
									items="{ path : '/UserSet', parameters : { expand : 'Role', 'select' : 'Id,FirstName,LastName,Email,RoleId,Role/Role' }, filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false }, { path : 'RoleId' , operator : 'NE' , value1 : 4 } ], sorter : [ { path : 'Role/Role', descending : false, group: true }, { path : 'FirstName', descending : false } ], groupHeaderFactory: '.getGroupHeader' }">
									<core:Item key="{Id}" text="{FirstName} {LastName} - {Email}"/>
								</MultiComboBox>
							</VBox>
							<VBox>
								<Label text="{i18n>colIsLater}"/>
								<Switch state="{objectView>IsLater}" customTextOn="Yes" customTextOff="No">
									<layoutData>
										<FlexItemData growFactor="1"/>
									</layoutData>
								</Switch>
							</VBox>
							<VBox visible="{= ${objectView>IsLater} === true}">
								<Label required="true" text="{i18n>colScheduledDate}"/>
								<DatePicker width="100%" valueFormat="dd MMM yyyy" displayFormat="dd MMM yyyy" value="{objectView>ScheduledDate}"/>
							</VBox>
							<VBox visible="{= ${objectView>IsLater} === true}">
								<Label required="true" text="{i18n>colScheduledTime}"/>
								<TimePicker width="100%" valueFormat="HH:mm" displayFormat="hh:mm a" value="{objectView>ScheduledTime}"/>
							</VBox>
						</l:Grid>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>
		<uxap:footer>
			<Toolbar>
				<ToolbarSpacer/>
				<Button text="{i18n>btnCancel}" press="onCancel"/>
				<Button text="{i18n>btnDraft}" type="Accept" press="onDraft" enabled="{= ${appView>/viewFlag} === 'Y'}"/>
				<Button text="{i18n>btnSchedule}" type="Emphasized" visible="{= ${objectView>IsLater} === true}" press="onPublish"/>
				<Button text="{i18n>btnSend}" type="Emphasized" visible="{= ${objectView>IsLater} === false}" press="onPublish"/>
			</Toolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>
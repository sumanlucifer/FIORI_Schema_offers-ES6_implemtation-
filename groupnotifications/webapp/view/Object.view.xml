<mvc:View controllerName="com.knpl.pragati.groupnotifications.controller.Object" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"
	xmlns:u="sap.ui.unified" xmlns:uxap="sap.uxap" xmlns:l="sap.ui.layout">
	<uxap:ObjectPageLayout id="ObjectPageLayout" showAnchorBar="true" showFooter="true" subSectionLayout="TitleOnLeft"
		binding="{objectView>/oDetails}" busy="{objectView>/busy}" busyIndicatorDelay="0" class="sapUiResponsiveContentPadding">
		<uxap:headerTitle>
			<uxap:ObjectPageHeader objectTitle="{= ${objectView>/sMode} === 'C' ? ${i18n>TtlAddGroup} : ${i18n>TtlEditGroup} }">
                <uxap:breadcrumbs>
                    <Breadcrumbs  currentLocationText="Group Details">
                        <Link text="Notification Groups" press="onCancel"/>
                    </Breadcrumbs>
                </uxap:breadcrumbs>
            </uxap:ObjectPageHeader>
		</uxap:headerTitle>
		<uxap:sections>
			<uxap:ObjectPageSection title="{i18n>groupName}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<l:Grid width="100%" defaultSpan="XL6 L6 M6 S12">
							<VBox>
								<Label required="true" text="{i18n>colGroupName}"/>
								<Input value="{objectView>GroupName}" maxLength="50" editable="{= ${objectView>/sMode} !== 'V'}"/>
                                <VBox width="100%" height="100%" visible="{= ${objectView>/sMode} === 'V'}" class="sapUiTinyMarginTop" justifyContent="SpaceBetween"  >
                                    <items>
                                         <Label text="{i18n>CreatedBy}" />
                                        <Text text="{path:'objectView>/oDetails/CreatedByDetails',formatter:'.formatter.fmtDisplayUpdatedDetails'}" />
                                        <Label text="{i18n>CreatedAt}"  class="sapUiTinyMarginTop" />
                                        <Text text="{path:'objectView>/oDetails/CreatedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/yyyy h:mm a'}}"/>
                                        <Label text="{i18n>LastUpdatedBy}"  class="sapUiTinyMarginTop" />
                                        <Text text="{path:'objectView>/oDetails/UpdatedByDetails',formatter:'.formatter.fmtDisplayUpdatedDetails'}" />      
                                        <Label text="{i18n>LastUpdatedAt}"  class="sapUiTinyMarginTop" />
                                        <Text text="{path:'objectView>/oDetails/UpdatedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/yyyy h:mm a'}}"/>
                                    </items>
                                </VBox>
                                 
							</VBox>
						</l:Grid>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <uxap:ObjectPageSection title="{i18n>targetGroup}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<l:Grid width="100%" defaultSpan="XL6 L6 M6 S12">
							<VBox>
								<Label required="true" text="{i18n>targetGroup}"/>
								<RadioButtonGroup id="rbg1" columns="3" select="onRadioBtnChange" editable="{= ${objectView>/sMode} !== 'V'}">
                                <RadioButton id="RB3" text="Painter Specific" selected="{= ${objectView>/TargetDetails/TargetFilterType} === 'PAINTER'}"/>
                                <RadioButton id="RB2" text="Group Specific" selected="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}"/>
                                </RadioButtonGroup>
							</VBox>
						</l:Grid>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
             <uxap:ObjectPageSection title="" visible="{=${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<l:Grid width="100%" defaultSpan="XL6 L6 M6 S12">
							<VBox>
                <Label text="{i18n>colZone}" visible="{=${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}"/>
                <MultiComboBox id="idZone" editable="{= ${objectView>/sMode} !== 'V'}" selectedKeys="{objectView>/TargetDetails/NotificationGroupZone}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}" selectionChange="onMultyZoneChange" items="{ path : '/MasterZoneSet'}">
					<core:Item key="{Id}" text="{Id}"/>
				</MultiComboBox>
                <Label text="{i18n>colDivision}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}"/>
                <MultiComboBox id="idDivision" editable="{= ${objectView>/sMode} !== 'V'}" selectedKeys="{objectView>/TargetDetails/NotificationGroupDivision}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}" selectionChange="onMultyDivisionChange" items="{ path : '/MasterDivisionSet'}">
					<core:Item key="{Id}" text="{Id}"/>
				</MultiComboBox>
                <Label text="{i18n>colDepot}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}"/>
                <MultiInput id="multiInputDepotAdd" editable="{= ${objectView>/sMode} !== 'V'}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}" tokens="{objectView>/TargetDetails/NotificationGroupDepot}" valueHelpRequest="onValueHelpRequestedDepot">
	                <tokens>
                        <Token editable="false" text="{objectView>DepotId}" key="{objectView>DepotId}"/>
                    </tokens>
	            </MultiInput>
                <Label text="{i18n>colPainterType}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}"/>
                <MultiComboBox id="idPainterType" editable="{= ${objectView>/sMode} !== 'V'}" selectedKeys="{objectView>/TargetDetails/NotificationGroupPainterType}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}" items="{path:'/MasterPainterTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }">
					<core:Item key="{Id}" text="{PainterType}"/>
				</MultiComboBox>
                <Label text="{i18n>colPainterArcheType}" visible="{=${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}"/>
                <MultiComboBox id="idPainterArcheType" editable="{= ${objectView>/sMode} !== 'V'}" selectedKeys="{objectView>/TargetDetails/NotificationGroupPainterArcheType}" visible="{= ${objectView>/TargetDetails/TargetFilterType} === 'GROUP'}" items="{path:'/MasterArcheTypeSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false } ] }">
					<core:Item key="{Id}" text="{ArcheType}"/>
				</MultiComboBox>
							</VBox>
						</l:Grid>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
			<uxap:ObjectPageSection title="{i18n>members}." visible="{=${objectView>/TargetDetails/TargetFilterType} === 'PAINTER'}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<Table id="List" mode="Delete" delete="onDeleteMember" width="auto"
							items="{path: 'objectView>/oDetails/Members'}"
							headerText="{i18n>colGroupMembers}" growing="true" visible="{= ${objectView>/sMode} !== 'V'}" noDataText="No Data Available">
							<headerToolbar>
								<Toolbar>
									<ToolbarSpacer/>
									<!-- <Button press="addMember" icon="sap-icon://add" type="Emphasized" text="{i18n>btnAddMember}"/> -->
                                     <Button press="onValueHelpRequestedPainter" icon="sap-icon://add" type="Emphasized" text="{i18n>btnAddMember}"/>
								</Toolbar>
							</headerToolbar>
							<columns>
								<Column>
									<Text text="{i18n>colName}"/>
								</Column>
								<Column>
									<Text text="{i18n>colMobile}"/>
								</Column>
								<!-- <Column>
									<Text text="{i18n>colEmail}"/>
								</Column> -->
                                	<!-- <Column>
									<Text text="{i18n>colRole}"/>
								</Column> -->
								<Column>
									<Text text="{i18n>colMembershipid}"/>
								</Column>
                                <Column>
									<Text text="{i18n>colZone}"/>
								</Column>
                                <Column>
									<Text text="{i18n>colDevision}"/>
								</Column>
                                <Column>
									<Text text="{i18n>colDepot}"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<cells>
                                    <FlexBox>
                                    <Text text="{objectView>Admin/Name}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/Name}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
									<FlexBox >
                                    <Text text="{objectView>Admin/Mobile}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/Mobile}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
									<!-- <FlexBox >
                                    <Text text="{objectView>Admin/Email}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/Email}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox> -->
                                      <FlexBox >
                                    <Text text="{objectView>Admin/MembershipCard}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/MembershipCard}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>

                                    
                                     <FlexBox >
                                    <Text text="{objectView>Admin/ZoneId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/ZoneId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
                                     <FlexBox >
                                    <Text text="{objectView>Admin/DivisionId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/DivisionId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
                                    <FlexBox >
                                    <Text text="{objectView>Admin/DepotId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/DepotId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
                                    <!-- <Text text="{objectView>Role/Role}" visible="{= ${objectView>IsArchived} !== true }"/> -->
                                    </cells>
                                </ColumnListItem>
							</items>
						</Table>
                           <Table id="List1" 
							items="{path: 'Members/', parameters:{expand:'Painter,Admin,Role'}}" growingScrollToLoad="false" growingThreshold="10"
							 updateFinished=".onPainterUpdateFinished" growing="true" visible="{= ${objectView>/sMode} === 'V'}" noDataText="No Data Available">
                            <headerToolbar>
					<OverflowToolbar>
						<Title id="tableHeader" text="{objectView>/TableList1Title}" level="H3"/>
					
					</OverflowToolbar>
				</headerToolbar>
							<columns>
								<Column>
									<Text text="{i18n>colName}"/>
								</Column>
								<Column>
									<Text text="{i18n>colMobile}"/>
								</Column>
							
                                <Column>
									<Text text="{i18n>colMembershipid}"/>
								</Column>
                                 <Column>
									<Text text="{i18n>colZone}"/>
								</Column>
                                <Column>
									<Text text="{i18n>colDevision}"/>
								</Column>
                                <Column>
									<Text text="{i18n>colDepot}"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<cells>
                                    <FlexBox >
                                    <Text text="{Admin/Name}" visible="{= ${IsArchived} !== true }"/>
                                    <Text text="{Painter/Name}" visible="{= ${IsArchived} !== true }"/>
                                    </FlexBox>
									<FlexBox >
                                    <Text text="{Admin/Mobile}" visible="{= ${IsArchived} !== true }"/>
                                    <Text text="{Painter/Mobile}" visible="{= ${IsArchived} !== true }"/>
                                    </FlexBox>
							
                                     <FlexBox >
                                    <Text text="{Admin/MembershipCard}" visible="{= ${IsArchived} !== true }"/>
                                    <Text text="{Painter/MembershipCard}" visible="{= ${IsArchived} !== true }"/>
                                    </FlexBox>
                                    <FlexBox >
                                    <Text text="{Admin/ZoneId}" visible="{= ${IsArchived} !== true }"/>
                                    <Text text="{Painter/ZoneId}" visible="{= ${IsArchived} !== true }"/>
                                    </FlexBox>
                                     <FlexBox >
                                    <Text text="{Admin/DivisionId}" visible="{= ${IsArchived} !== true }"/>
                                    <Text text="{Painter/DivisionId}" visible="{= ${IsArchived} !== true }"/>
                                    </FlexBox>
                                    <FlexBox >
                                    <Text text="{Admin/DepotId}" visible="{= ${IsArchived} !== true }"/>
                                    <Text text="{Painter/DepotId}" visible="{= ${IsArchived} !== true }"/>
                                    </FlexBox>
									</cells>
								</ColumnListItem>
							</items>
						</Table>
                        <!-- <Table id="List1" width="auto"
							items="{path: 'objectView>/oDetails/Members'}"
							headerText="{i18n>colGroupMembers}" growing="true" visible="{= ${objectView>/sMode} === 'V'}" noDataText="No Data Available">
						
							<columns>
								<Column>
									<Text text="{i18n>colName}"/>
								</Column>
								<Column>
									<Text text="{i18n>colMobile}"/>
								</Column>
							
                                <Column>
									<Text text="{i18n>colMembershipid}"/>
								</Column>
                                 <Column>
									<Text text="{i18n>colZone}"/>
								</Column>
                                <Column>
									<Text text="{i18n>colDevision}"/>
								</Column>
                                <Column>
									<Text text="{i18n>colDepot}"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<cells>
                                    <FlexBox >
                                    <Text text="{objectView>Admin/Name}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/Name}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
									<FlexBox >
                                    <Text text="{objectView>Admin/Mobile}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/Mobile}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
							
                                     <FlexBox >
                                    <Text text="{objectView>Admin/MembershipCard}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/MembershipCard}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
                                    <FlexBox >
                                    <Text text="{objectView>Admin/ZoneId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/ZoneId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
                                     <FlexBox >
                                    <Text text="{objectView>Admin/DivisionId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/DivisionId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
                                    <FlexBox >
                                    <Text text="{objectView>Admin/DepotId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    <Text text="{objectView>Painter/DepotId}" visible="{= ${objectView>IsArchived} !== true }"/>
                                    </FlexBox>
									</cells>
								</ColumnListItem>
							</items>
						</Table> -->
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>
		<uxap:footer>
			<Toolbar>
				<ToolbarSpacer/>
				<Button text="{i18n>btnCancel}" press="onCancel"/>
				<Button text="{i18n>btnSave}" type="Emphasized" press="onSave" visible="{= ${objectView>/sMode} !== 'V'}"/>
			</Toolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>
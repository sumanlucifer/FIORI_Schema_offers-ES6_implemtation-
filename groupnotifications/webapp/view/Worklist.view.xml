<mvc:View controllerName="com.knpl.pragati.groupnotifications.controller.Worklist" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.f" xmlns:l="sap.ui.layout" xmlns:fb="sap.ui.comp.filterbar">
	<f:DynamicPage id="page">
		<f:title>
			<f:DynamicPageTitle>
				<f:heading>
					<Title text="{i18n>worklistTitle}"/>
				</f:heading>
			</f:DynamicPageTitle>
		</f:title>
		<f:header>
			<f:DynamicPageHeader pinnable="true">
				<f:content>
					<l:VerticalLayout>
						<SearchField id="searchField" tooltip="{i18n>worklistSearchTooltip}" search=".onSearch">
							<layoutData>
								<OverflowToolbarLayoutData maxWidth="200px" priority="NeverOverflow"/>
							</layoutData>
						</SearchField>
					</l:VerticalLayout>
				</f:content>
			</f:DynamicPageHeader>
		</f:header>
		<f:content>
			<Table id="table" width="auto"
				items="{ path: '/NotificationGroupSet', filters : { path : 'IsArchived' , operator : 'EQ' , value1 : false }, sorter: { path: 'CreatedAt', descending: true } }"
				noDataText="{worklistView>/tableNoDataText}" busyIndicatorDelay="{worklistView>/tableBusyDelay}" growing="true" growingScrollToLoad="false" growingThreshold="10"
				updateFinished=".onUpdateFinished">
				<headerToolbar>
					<OverflowToolbar>
						<Title id="tableHeader" text="{worklistView>/worklistTableTitle}" level="H3"/>
						<ToolbarSpacer/>
						<!-- <Button text="{i18n>btnRefresh}" icon="sap-icon://refresh" press="onRefreshView">
							<layoutData>
								<OverflowToolbarLayoutData maxWidth="200px" priority="NeverOverflow"/>
							</layoutData>
						</Button> -->
						<Button text="{i18n>btnAdd}" type="Emphasized" icon="sap-icon://add" press="onAdd">
							<layoutData>
								<OverflowToolbarLayoutData maxWidth="200px" priority="NeverOverflow"/>
							</layoutData>
						</Button>
					</OverflowToolbar>
				</headerToolbar>
				<columns>
					<Column width="57%">
						<Text text="{i18n>colGroupName}"/>
					</Column>
					<Column width="13%">
						<Text text="{i18n>colTotalMembers}"/>
					</Column>
					<Column width="20%">
						<Text text="{i18n>colCreator}"/>
					</Column>
					<Column >
						<Text text="{i18n>colAction}"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press="onPressView">
						<cells>
							<Text text="{GroupName}"/>
							<Text text="{TotalMembers}"/>
							<Text text="{= ${CreatorName}=== null ? 'SYSTEM' : ${CreatorName} }"/>
                            <FlexBox >
							<Button icon="sap-icon://edit"  visible="{= ${IsDefault} !== true }" press="onEdit" type="Transparent" tooltip="Edit"/>
							<Button icon="sap-icon://delete" visible="{= ${IsDefault} !== true }" press="onDelete" type="Transparent" tooltip="Delete"/>
                            </FlexBox>
                        </cells>
					</ColumnListItem>
				</items>
			</Table>
		</f:content>
	</f:DynamicPage>
</mvc:View>
<core:FragmentDefinition xmlns="sap.m"
	xmlns:u="sap.ui.unified"
     xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:core="sap.ui.core">
    <Table id="categoryTable" class="sapUiTinyMarginBegin" updateFinished="onImagesUpdaed"  width="98%"  growing="true" growingThreshold="10" items="{path:'oModelControl>/TableData1'}" growingScrollToLoad="false"  noDataText="{i18n>tableNoDataText}">
                <headerToolbar>
                    <Toolbar>
                        <Title text="{oModelControl>/ImagesCount}"/>
                        <MessageStrip text="{i18n>Message18}" showIcon="true"></MessageStrip>
                        <ToolbarSpacer ></ToolbarSpacer>
                        <Button icon="sap-icon://add" text="{i18n>AddImage}" tooltip="{i18n>AddImage}" type="Emphasized" press="onPressAddNewImage('add')"/>
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column >
                        <Text text="{i18n>Image}"/>
                    </Column>
                     <Column width="8%" >
                        <Text text="{i18n>CreatedAt}"/>
                    </Column>
                     <Column width="8%" >
                        <Text text="{i18n>CreatedBy}"/>
                    </Column>
                     <Column width="8%">
                        <Text text="{i18n>UpdatedAt}"/>
                    </Column>
                       <Column width="8%" >
                        <Text text="{i18n>UpdatedBy}"/>
                    </Column>
                      <Column >
                        <Text text="{i18n>Remark}"/>
                    </Column>
                    <Column width="7%">
                        <Text text="{i18n>Status}"/>
                    </Column>
                   
                    <Column>
                        <Text text="{i18n>Action}"/>
                    </Column>
                </columns>

                <items>
                    <ColumnListItem>
                        <cells>
                            <VBox >
                                	<u:FileUploader change="onFileUploaderChange" app:type="fileUploader" typeMissmatch="onFilteMisMatch" fileType="jpg,jpeg,png" maximumFileSize="5" fileSizeExceed="onFileSizeMismatch" placeholder="{i18n>Message5}" tooltip="{i18n>Message5}"  visible="{= ${oModelControl>editable} === true }"/>
                                    <Link text="{i18n>ViewImage}" press="onViewImage"  visible="{= ${oModelControl>editable} !== true }"/>
                            </VBox>
                              <Text text="{ path:'oModelControl>CreatedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/YYYY h:mm a'} }" />
                                 <Text text="{ parts:['oModelControl>CreatedBy','oModelControl>CreatedByDetails'] ,formatter:'.formatter.fmtCheckCreatedName'}" />
                                 <Text text="{ path:'oModelControl>UpdatedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/YYYY h:mm a'} }" /> 
                                   <Text text="{ parts:['oModelControl>UpdatedBy','oModelControl>UpdatedByDetails'] ,formatter:'.formatter.fmtCheckCreatedName'}" />
                              <Text text="{ path:'oModelControl>Remark',formatter:'.formatter.fmtCheckNull'}" />
                           
                            <ObjectStatus text="{path:'oModelControl>ApprovalStatus',formatter:'.formatter.fmtLowerCase'}" state="{path:'oModelControl>ApprovalStatus',formatter:'.formatter.fmtCheckStatusColor'}" />
                          

                             <HBox >
                                <Button visible="{= ${oModelControl>editable} !== true }" tooltip="{parts:['oModelControl>ApprovalStatus','oModelControl>UploadImageCount'], formatter:'.formatter.fmtCheckToolTipEdit'}" enabled="{parts:['oModelControl>ApprovalStatus','oModelControl>UploadImageCount'], formatter:'.formatter.fmtCheckUploadCount'}" icon="sap-icon://edit" type="Transparent" press="onPressAddNewImage"></Button>
                               
                                <Button   icon="sap-icon://delete" type="Transparent" tooltip="{i18n>Delete}" press="onDelteportFolioImage"></Button>
                                <Button visible="{= !isNaN(${oModelControl>Id}) &amp;&amp; ${oModelControl>editable} === true   }" icon="sap-icon://sys-cancel" type="Transparent" tooltip="{i18n>Cancel}" press="onCancelImagesTable"></Button>
                                <!-- Approval and Reject Button -->
                                <Button app:status="APPROVED" visible="{ parts:['oModelControl>editable','oModelControl>ApprovalStatus'],formatter:'.formatter.fmtBtnApproveImage'  }"  type="Accept" text="{i18n>Approve}" tooltip="{i18n>Approve}" press="onApproveImage" class="sapUiTinyMarginEnd"></Button>
                                <Button  app:status="REJECTED"  visible="{ parts:['oModelControl>editable','oModelControl>ApprovalStatus'],formatter:'.formatter.fmtBtnRejectImage'  }" type="Reject" text="{i18n>Reject}" tooltip="{i18n>Reject}" press="onStatusChanged"></Button>
                            </HBox>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
  </core:FragmentDefinition>

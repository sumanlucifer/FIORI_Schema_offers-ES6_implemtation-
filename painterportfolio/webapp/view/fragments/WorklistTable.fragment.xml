<core:FragmentDefinition xmlns="sap.m"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:core="sap.ui.core">
    <smartTable:SmartTable id="idWorkListTable1" header="{i18n>PainterPortfolios}" enableAutoBinding="false" initialNoDataText="{i18n>tableNoDataText}" width="100%" editable="false" entitySet="PainterPortfolioSet" beforeRebindTable="onBindTblComplainList" tableType="ResponsiveTable" showRowCount="true" useExportToExcel="false" useVariantManagement="false" useTablePersonalisation="true" demandPopin="false" requestAtLeastFields="Id,Painter/Id,DownloadApplicable,PortfolioTokenCode" >
        <smartTable:customToolbar>
			<OverflowToolbar>
                        <ToolbarSpacer />
                        <Button icon="sap-icon://add" type="Emphasized" text="{i18n>AddPortfoio}"  tooltip="{i18n>AddPortfoio}"  press="onPressAddObject"/>
                    </OverflowToolbar>
		</smartTable:customToolbar>

        <Table  growing="true" growingThreshold="10" growingScrollToLoad="false" noDataText="{i18n>tableNoDataText}">
           
            <columns>
                 <Column width="11%" hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "PortfolioCode", "leadingProperty": "PortfolioCode", "columnIndex": 0 ,"sortProperty": "PortfolioCode","filterProperty": "PortfolioCode"}'/>
                    </customData>
                    <Text text="{i18n>PortfolioCode}"/>
                </Column>
                <Column width="10%" hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Painter/Name", "leadingProperty": "Painter/Name", "columnIndex": 1 ,"sortProperty": "Painter/Name","filterProperty": "Painter/Name"}'/>
                    </customData>
                    <Text text="{i18n>PainterName}"/>
                </Column>
                  <Column width="11%" hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Painter/MembershipCard", "leadingProperty": "Painter/MembershipCard", "columnIndex": 2 ,"sortProperty": "Painter/MembershipCard","filterProperty": "Painter/MembershipCard"}'/>
                    </customData>
                    <Text text="{i18n>MembershipId}"/>
                </Column>
                  <Column width="9%" hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Painter/Mobile", "leadingProperty": "Painter/Mobile", "columnIndex": 3 ,"sortProperty": "Painter/Mobile","filterProperty": "Painter/Mobile"}'/>
                    </customData>
                    <Text text="{i18n>Mobile}"/>
                </Column>
                <Column hAlign="Begin" width="6%">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Painter/ZoneId", "leadingProperty": "Painter/ZoneId", "columnIndex": 4 ,"sortProperty": "Painter/ZoneId","filterProperty": "Painter/ZoneId"}'/>
                    </customData>
                    <Text text="{i18n>Zone}"/>
                </Column>
                <Column hAlign="Begin" width="6%" >
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Painter/DivisionId", "leadingProperty": "Painter/DivisionId", "columnIndex": 5 ,"sortProperty": "Painter/DivisionId","filterProperty": "Painter/DivisionId"}'/>
                    </customData>
                    <Text text="{i18n>Division}"/>
                </Column>
                  <Column hAlign="Begin" width="6%">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Painter/DepotId", "leadingProperty": "Painter/DepotId", "columnIndex": 6 ,"sortProperty": "Painter/DepotId","filterProperty": "Painter/DepotId"}'/>
                    </customData>
                    <Text text="{i18n>Depot}"/>
                </Column>
                
                <Column width="8%" hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "CreatedAt", "leadingProperty": "CreatedAt", "columnIndex": 7 ,"sortProperty": "CreatedAt","filterProperty": "CreatedAt"}'/>
                    </customData>
                    <Text text="{i18n>CreatedAt}"/>
                </Column>
                <Column width="9%" hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "ApprovalStatus", "leadingProperty": "ApprovalStatus", "columnIndex": 8 ,"sortProperty": "ApprovalStatus","filterProperty": "ApprovalStatus"}'/>
                    </customData>
                    <Text text="{i18n>ApprovalStatus}"/>
                </Column>
                  <Column width="7%" hAlign="Begin" >
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Download", "columnIndex": 9}'/>
                    </customData>
                    <Text text="{i18n>Download}"/>
                </Column>
                 <Column width="6%" hAlign="Begin">
                    <customData>
                        <core:CustomData key="p13nData" value='\{"columnKey": "Actions"}'/>
                    </customData>
                    <Text text="{i18n>Actions}"/>
                </Column>

            </columns>
            <items>
                <ColumnListItem press="onListItemPress" type="Navigation">
                    <cells>
                      <Text text="{PortfolioCode}"/>
                      <Text text="{Painter/Name}"/>
                      <Text text="{Painter/MembershipCard}"/>
                      <Text text="{Painter/Mobile}"/>
                      <Text text="{Painter/ZoneId}"/>
                      <Text text="{Painter/DivisionId}"/>
                      <Text text="{Painter/DepotId}"/>
                              <!-- UTC should be false in displaying date but the case for filtering it will be different -->
                      <Text text="{ path:'CreatedAt',type:'sap.ui.model.type.Date',formatOptions:{pattern:'dd/MM/YYYY h:mm a'} }" />
                      <ObjectStatus text="{path:'ApprovalStatus',formatter:'.formatter.fmtLowerCase'}" state="{path:'ApprovalStatus',formatter:'.formatter.fmtCheckStatusColor'}" />
                      <Button visible="{= ${DownloadApplicable} === true }" icon="sap-icon://download" press="onDownloadMainTable" type="Ghost" tooltip="{i18n>Download}"/>
                      <HBox justifyContent="Start" >
                        <Button visible="{= ${ApprovalStatus} !== 'NONE'}" icon="sap-icon://approvals" tooltip="{i18n>Approvals}" press="onQucikApproveOpen" type="Ghost"/>
                        <Button icon="sap-icon://delete" press="onDeleteSiteImage" type="Transparent" tooltip="{i18n>Delete}"/>
                      </HBox>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </smartTable:SmartTable>
</core:FragmentDefinition>
